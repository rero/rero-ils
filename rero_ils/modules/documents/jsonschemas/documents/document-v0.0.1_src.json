{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Schema for document",
  "type": "object",
  "definitions": {
    "language_script": {
      "enum": [
        "ara-arab",
        "bel-cyrl",
        "chi-hani",
        "chi-zyyy",
        "chu-cyrl",
        "grc-grek",
        "gre-grek",
        "heb-hebr",
        "jpn-hani",
        "jpn-jpan",
        "kor-kore",
        "lad-hebr",
        "mac-cyrl",
        "per-arab",
        "rus-cyrl",
        "srp-cyrl",
        "ukr-cyrl",
        "yid-hebr"
      ]
    },
    "country": {
      "enum": [
        "aa",
        "abc",
        "ac",
        "aca",
        "ae",
        "af",
        "ag",
        "ai",
        "air",
        "aj",
        "ajr",
        "aku",
        "alu",
        "am",
        "an",
        "ao",
        "aq",
        "aru",
        "as",
        "at",
        "au",
        "aw",
        "ay",
        "azu",
        "ba",
        "bb",
        "bcc",
        "bd",
        "be",
        "bf",
        "bg",
        "bh",
        "bi",
        "bl",
        "bm",
        "bn",
        "bo",
        "bp",
        "br",
        "bs",
        "bt",
        "bu",
        "bv",
        "bw",
        "bwr",
        "bx",
        "ca",
        "cau",
        "cb",
        "cc",
        "cd",
        "ce",
        "cf",
        "cg",
        "ch",
        "ci",
        "cj",
        "ck",
        "cl",
        "cm",
        "cn",
        "co",
        "cou",
        "cp",
        "cq",
        "cr",
        "cs",
        "ctu",
        "cu",
        "cv",
        "cw",
        "cx",
        "cy",
        "cz",
        "dcu",
        "deu",
        "dk",
        "dm",
        "dq",
        "dr",
        "ea",
        "ec",
        "eg",
        "em",
        "enk",
        "er",
        "err",
        "es",
        "et",
        "fa",
        "fg",
        "fi",
        "fj",
        "fk",
        "flu",
        "fm",
        "fp",
        "fr",
        "fs",
        "ft",
        "gau",
        "gb",
        "gd",
        "ge",
        "gg",
        "gh",
        "gi",
        "gl",
        "gm",
        "gn",
        "go",
        "gp",
        "gr",
        "gs",
        "gsr",
        "gt",
        "gu",
        "gv",
        "gw",
        "gy",
        "gz",
        "hiu",
        "hk",
        "hm",
        "ho",
        "ht",
        "hu",
        "iau",
        "ic",
        "idu",
        "ie",
        "ii",
        "ilu",
        "im",
        "inu",
        "io",
        "iq",
        "ir",
        "is",
        "it",
        "iu",
        "iv",
        "iw",
        "iy",
        "ja",
        "je",
        "ji",
        "jm",
        "jn",
        "jo",
        "ke",
        "kg",
        "kgr",
        "kn",
        "ko",
        "ksu",
        "ku",
        "kv",
        "kyu",
        "kz",
        "kzr",
        "lau",
        "lb",
        "le",
        "lh",
        "li",
        "lir",
        "ln",
        "lo",
        "ls",
        "lu",
        "lv",
        "lvr",
        "ly",
        "mau",
        "mbc",
        "mc",
        "mdu",
        "meu",
        "mf",
        "mg",
        "mh",
        "miu",
        "mj",
        "mk",
        "ml",
        "mm",
        "mnu",
        "mo",
        "mou",
        "mp",
        "mq",
        "mr",
        "msu",
        "mtu",
        "mu",
        "mv",
        "mvr",
        "mw",
        "mx",
        "my",
        "mz",
        "na",
        "nbu",
        "ncu",
        "ndu",
        "ne",
        "nfc",
        "ng",
        "nhu",
        "nik",
        "nju",
        "nkc",
        "nl",
        "nm",
        "nmu",
        "nn",
        "no",
        "np",
        "nq",
        "nr",
        "nsc",
        "ntc",
        "nu",
        "nuc",
        "nvu",
        "nw",
        "nx",
        "nyu",
        "nz",
        "ohu",
        "oku",
        "onc",
        "oru",
        "ot",
        "pau",
        "pc",
        "pe",
        "pf",
        "pg",
        "ph",
        "pic",
        "pk",
        "pl",
        "pn",
        "po",
        "pp",
        "pr",
        "pt",
        "pw",
        "py",
        "qa",
        "qea",
        "quc",
        "rb",
        "re",
        "rh",
        "riu",
        "rm",
        "ru",
        "rur",
        "rw",
        "ry",
        "sa",
        "sb",
        "sc",
        "scu",
        "sd",
        "sdu",
        "se",
        "sf",
        "sg",
        "sh",
        "si",
        "sj",
        "sk",
        "sl",
        "sm",
        "sn",
        "snc",
        "so",
        "sp",
        "sq",
        "sr",
        "ss",
        "st",
        "stk",
        "su",
        "sv",
        "sw",
        "sx",
        "sy",
        "sz",
        "ta",
        "tar",
        "tc",
        "tg",
        "th",
        "ti",
        "tk",
        "tkr",
        "tl",
        "tma",
        "tnu",
        "to",
        "tr",
        "ts",
        "tt",
        "tu",
        "tv",
        "txu",
        "tz",
        "ua",
        "uc",
        "ug",
        "ui",
        "uik",
        "uk",
        "un",
        "unr",
        "up",
        "ur",
        "us",
        "utu",
        "uv",
        "uy",
        "uz",
        "uzr",
        "vau",
        "vb",
        "vc",
        "ve",
        "vi",
        "vm",
        "vn",
        "vp",
        "vra",
        "vs",
        "vtu",
        "wau",
        "wb",
        "wea",
        "wf",
        "wiu",
        "wj",
        "wk",
        "wlk",
        "ws",
        "wvu",
        "wyu",
        "xa",
        "xb",
        "xc",
        "xd",
        "xe",
        "xf",
        "xga",
        "xh",
        "xi",
        "xj",
        "xk",
        "xl",
        "xm",
        "xn",
        "xna",
        "xo",
        "xoa",
        "xp",
        "xr",
        "xra",
        "xs",
        "xv",
        "xx",
        "xxc",
        "xxk",
        "xxr",
        "xxu",
        "ye",
        "ykc",
        "ys",
        "yu",
        "za"
      ]
    },
    "canton": {
      "enum": [
        "ag",
        "ai",
        "ar",
        "be",
        "bl",
        "bs",
        "fr",
        "ge",
        "gl",
        "gr",
        "ju",
        "lu",
        "ne",
        "nw",
        "ow",
        "sg",
        "sh",
        "so",
        "sz",
        "tg",
        "ti",
        "ur",
        "vd",
        "vs",
        "zg",
        "zh"
      ]
    }
  },
  "required": [
    "$schema",
    "pid",
    "type",
    "title",
    "language"
  ],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "title": "Schema",
      "description": "Schema to validate document against.",
      "type": "string",
      "default": "https://ils.rero.ch/schema/documents/document-v0.0.1.json"
    },
    "pid": {
      "title": "Document ID",
      "type": "string",
      "minLength": 1
    },
    "type": {
      "title": "Type",
      "description": "Required. Type of the document. Should be selected in the list below.",
      "type": "string",
      "enum": [
        "article",
        "book",
        "ebook",
        "journal",
        "score",
        "sound",
        "video"
      ],
      "minLength": 4
    },
    "title": {
      "title": "Title",
      "description": "Required. Entire title without statement of responsibility.",
      "validationMessage": "Required. Entire title without statement of responsibility.",
      "type": "string",
      "minLength": 1
    },
    "titlesProper": {
      "title": "Proper or uniformed titles",
      "description": "Uniform title, a related or an analytical title that is controlled by an authority file or list, used as an added access point.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Proper or uniformed title",
        "type": "string",
        "minLength": 1
      }
    },
    "is_part_of": {
      "title": "Is part of",
      "description": "Title of the host document.",
      "type": "string",
      "minLength": 3
    },
    "language": {
      "title": "Languages",
      "description": "List of languages for the resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "description": "Type of the language.",
            "type": "string",
            "default": "bf:Language",
            "enum": [
              "bf:Language"
            ]
          },
          "value": {
            "title": "Language value",
            "type": "string",
            "enum": [
              "ara",
              "chi",
              "eng",
              "fre",
              "ger",
              "gre",
              "heb",
              "ita",
              "jpn",
              "lat",
              "pol",
              "por",
              "rus",
              "spa",
              "und"
            ]
          }
        }
      }
    },
    "translatedFrom": {
      "title": "Translated from",
      "description": "Language from which a resource is translated.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 2,
        "validationMessage": "Should be in the ISO 639 format, with 3 characters, ie <code>eng</code> for English."
      }
    },
    "authors": {
      "title": "Authors",
      "description": "Author(s) of the resource. Can be either persons or organisations.",
      "type": "array",
      "minItems": 0,
      "items": {
        "type": "object",
        "required": [
          "type"
        ],
        "additionalProperties": false,
        "properties": {
          "$ref": {
            "title": "MEF person ref",
            "type": "string",
            "pattern": "^https://mef.rero.ch/api/mef/.*?$"
          },
          "pid": {
            "title": "pid",
            "description": "Corresponding pid of the MEF record.",
            "type": "string",
            "minLength": 1
          },
          "name": {
            "title": "Name",
            "description": "Person's or organisation's name.",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "description": "Identify if the author is a person or an organisation.",
            "type": "string",
            "enum": [
              "person",
              "organisation"
            ],
            "default": "person"
          },
          "date": {
            "title": "Date",
            "description": "Information about the birth and the death of a person. Helpful to disambiguate people.",
            "type": "string"
          },
          "qualifier": {
            "title": "Qualifier",
            "description": "Information about the person, ie her profession. Helpful to disambiguate people.",
            "type": "string"
          }
        }
      }
    },
    "copyrightDate": {
      "title": "Copyright Dates",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "pattern": "^([\u00a9\u2117]\\s)?\\d{4}.*",
        "minLength": 4
      }
    },
    "provisionActivity": {
      "title": "Provision Activity",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "enum": [
              "bf:Publication",
              "bf:Manufacture",
              "bf:Distribution",
              "bf:Production"
            ]
          },
          "statement": {
            "title": "Statement of place and/or agent of the provision activity",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "title": "Type",
                  "type": "string",
                  "enum": [
                    "bf:Place",
                    "bf:Agent"
                  ]
                },
                "canton": {
                  "title": "Canton",
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "type": "string",
                    "$ref": "#/definitions/canton"
                  }
                },
                "country": {
                  "title": "Country",
                  "type": "string",
                  "$ref": "#/definitions/country"
                },
                "label": {
                  "title": "Label",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "value": {
                        "title": "Place and/or agent name",
                        "type": "string",
                        "minLength": 2
                      },
                      "language": {
                        "title": "Language",
                        "type": "string",
                        "$ref": "#/definitions/language_script"
                      }
                    }
                  }
                }
              }
            }
          },
          "note": {
            "title": "Note",
            "description": "Note.",
            "type": "string"
          },
          "startDate": {
            "title": "Start date of publication",
            "description": "Start date of the publication. This must be an integer, ie 1989, 453, -50. Used to sort search results. Once this field is set, a free formed date of publication can be added in the next field.",
            "type": "string",
            "minimum": -9999,
            "maximum": 2050
          },
          "endDate": {
            "title": "End date of publication",
            "description": "End date of the publication. This must be an integer, ie 1989, 453, -50. Used to sort search results. Once this field is set, a free formed date of publication can be added in the next field.",
            "type": "string",
            "minimum": -9999,
            "maximum": 2050
          },
          "date": {
            "title": "Date of publication (free formed)",
            "description": "Date of the publication in a free form. If there's a normalized date of publication, then a free formed date can be added to be displayed.",
            "type": "string"
          }
        }
      }
    },
    "extent": {
      "title": "Extent",
      "description": "Extent of the resource, ie number of pages or volumes.",
      "type": "string",
      "minLength": 1
    },
    "otherMaterialCharacteristics": {
      "title": "Other Material Characteristics",
      "description": "Other Material Characteristics, ie illustrations, black and with or coloured.",
      "type": "string",
      "minLength": 1
    },
    "formats": {
      "title": "Formats",
      "description": "Format of the resource, ie dimensions in cm.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1
      }
    },
    "additionalMaterials": {
      "title": "Additional materials",
      "description": "Accompanying material of the resource, ie maps.",
      "type": "string",
      "minLength": 1
    },
    "series": {
      "title": "Series",
      "description": "Series to which belongs the resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "name"
        ],
        "additionalProperties": false,
        "properties": {
          "name": {
            "title": "Title",
            "description": "Title of the series.",
            "type": "string"
          },
          "number": {
            "title": "Numbering",
            "description": "Numbering of the resource within the series.",
            "type": "string"
          }
        }
      }
    },
    "notes": {
      "title": "Notes",
      "description": "Note on the resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Note",
        "type": "string",
        "minLength": 1
      }
    },
    "abstracts": {
      "title": "Abstracts",
      "description": "Abstract of the resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Abstract",
        "type": "string",
        "minLength": 3
      }
    },
    "identifiedBy": {
      "title": "Identifiers",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false,
        "properties": {
          "type": {
            "title": "Type",
            "type": "string",
            "enum": [
              "bf:AudioIssueNumber",
              "bf:Doi",
              "bf:Ean",
              "bf:Gtin14Number",
              "bf:Identifier",
              "bf:Isan",
              "bf:Isbn",
              "bf:Ismn",
              "bf:Isrc",
              "bf:Issn",
              "bf:IssnL",
              "bf:Local",
              "bf:MatrixNumber",
              "bf:MusicDistributorNumber",
              "bf:MusicPlate",
              "bf:MusicPublisherNumber",
              "bf:PublisherNumber",
              "bf:Upc",
              "bf:Urn",
              "bf:VideoRecordingNumber",
              "uri"
            ]
          },
          "value": {
            "title": "Identifier value",
            "description": "Identifier value.",
            "type": "string",
            "minLength": 1
          },
          "note": {
            "title": "Note",
            "description": "Note of the identifier.",
            "type": "string",
            "minLength": 1
          },
          "qualifier": {
            "title": "Qualifier",
            "description": "Qualifier of the identifier.",
            "type": "string",
            "minLength": 1
          },
          "acquisitionsTerms": {
            "title": "Acquisitions terms",
            "description": "Acquisitions terms of the ressource.",
            "type": "string",
            "minLength": 1
          },
          "source": {
            "title": "Source",
            "description": "Source of the identifier.",
            "type": "string",
            "minLength": 1
          },
          "status": {
            "title": "Status",
            "description": "Status of the ISBN/ISSN identifier.",
            "type": "string",
            "validationMessage": "ISBN/ISSN status should be selected in the list below.",
            "enum": [
              "invalid",
              "cancelled",
              "invalid or cancelled"
            ]
          }
        }
      }
    },
    "subjects": {
      "title": "Subjects",
      "description": "Subject of the resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "title": "Subject",
        "type": "string",
        "minLength": 1
      }
    },
    "cover_art": {
      "title": "Cover art",
      "description": "Vendor cover art URL.",
      "type": "string",
      "format": "uri"
    },
    "electronic_location": {
      "title": "Electronic Locations",
      "description": "Information needed to locate and access an electronic resource.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "uri"
        ],
        "properties": {
          "uri": {
            "title": "Uniform Resource Identifier",
            "description": "Uniform Resource Identifier (URI), which provides standard syntax for locating an object using existing Internet protocols.",
            "type": "string",
            "format": "uri"
          }
        }
      }
    },
    "harvested": {
      "title": "Harvested",
      "description": "Document is harvested or not, will disable record edition or similar.",
      "type": "boolean",
      "default": false
    }
  }
}
