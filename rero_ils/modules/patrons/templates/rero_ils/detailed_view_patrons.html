{%- extends config.RECORDS_UI_BASE_TEMPLATE %}
{% from 'rero_ils/macros/macro.html' import div_row_xs3_xs9 %}

{%- block page_body %}
<div class="container search-page">
  <div class="row">
    <div class="col-md-12">
      <h3>{{ record.last_name }}, {{ record.first_name }}</h3>
    </div>
  </div>

  {% if record.is_patron %}
    {{ div_row_xs3_xs9(
      _('Barcode'),
      '<a href="'+ url_for('circulation.index') + 'checkinout?patron=' + record.barcode +'">'+ record.barcode +'</a>'
    ) }}
    {{ div_row_xs3_xs9(_('Type'), record.patron_type) }}
  {% endif %}

  {% if record.birth_date %}
    {{ div_row_xs3_xs9(
      _('Birth Date'),
      record.birth_date|format_date(format='medium_date', locale=current_i18n.locale.language)
    ) }}
  {% endif %}

  {% if record.email %}
    {{ div_row_xs3_xs9(_('Email'), record.email) }}
  {% endif %}

  {% if record.street %}
    {{ div_row_xs3_xs9(_('Street'), record.street) }}
  {% endif %}


  {% if record.postal_code %}
    {{ div_row_xs3_xs9(_('Postal Code'), record.postal_code) }}
  {% endif %}

  {% if record.city %}
    {{ div_row_xs3_xs9(_('City'), record.city) }}
  {% endif %}

  {% if record.phone %}
    {{ div_row_xs3_xs9(_('Phone'), record.phone) }}
  {% endif %}

  {% if record.is_staff %}
    {{ div_row_xs3_xs9(_('Member'), record.member_pid) }}
  {% endif %}

  {% with
      href_update=url_for('ptrn.edit_view', pid=record.pid),
      href_delete=url_for('ptrn.delete_view', pid=record.pid),
      json=record,
      message=_("Patron cannot be deleted: there are still transactions or fees linked to this patron.")
  %}
      {% include 'rero_ils/_editor_button_actions.html' %}
  {% endwith %}
</div>
{%- endblock %}
