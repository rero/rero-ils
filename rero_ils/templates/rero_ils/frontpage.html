{# -*- coding: utf-8 -*-

  RERO ILS
  Copyright (C) 2019 RERO
  Copyright (C) 2015-2018 CERN

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.

#}
{%- extends 'rero_ils/page.html' %}

{%- block page_header %}
{%- include "rero_ils/header_frontpage.html" %}
{%- endblock page_header %}

{%- block page_body %}
<div class="flex-grow-1">
{%- block body %}
  <header class="rero-ils-frontpage d-flex flex-column justify-content-between text-white pt-4">
    <header class="container text-center mt-4">
      <h1>{{ _('Get into your library') }}</h1>
      <h2>{{ _('A wealth of knowledge just a click away') }}</h2>
    </header>

    <div class="container d-none d-md-block">
      <main-search-bar placeholder="{{ _('What\'s on your mind?') }}" size="large" viewcode="{{ viewcode or config.RERO_ILS_SEARCH_GLOBAL_VIEW_CODE }}"></main-search-bar>
    </div>

    <div class="container d-block d-md-none">
      <main-search-bar placeholder="{{ _('What\'s on your mind?') }}" viewcode="{{ viewcode or config.RERO_ILS_SEARCH_GLOBAL_VIEW_CODE }}"></main-search-bar>
    </div>

    <footer class="text-center bg-danger text-white">
      <p class="py-2 mb-0">
        {{ _('Software under development') }}
      </p>
    </footer>
  </header>
  <div class="container">
    <article class="row mt-md-4">
      <section class="col-md-4 order-3 order-md-1 p-4">
      {% if current_i18n.language == 'en' %}
      <h3>The project</h3>
      <p>The RERO ILS project aims at creating the future RERO Integrated Library System, using components of the <a href="https://inveniosoftware.org" class="rero-ils-external-link">Invenio</a> framework. This site provides a permanent, public demonstration instance of the software under development, with daily integration of new features.</p>
      {% endif  %}
      {% if current_i18n.language == 'fr' %}
      <h3>Le projet</h3>
      <p>Le projet RERO ILS a pour but de créer le futur système de gestion de bibliothèque de RERO basé sur le framework <a href="https://inveniosoftware.org" class="rero-ils-external-link">Invenio</a>. Ce site propose une instance publique et permanente du logiciel en cours de développement, avec une intégration continue des nouvelles fonctionnalités.</p>
      {% endif  %}
      {% if current_i18n.language == 'de' %}
      <h3>Das Projekt</h3>
      <p>Das Projekt RERO ILS zielt darauf ab, das zukünftige Bibliotheksverwaltungssystem von RERO auf der Basis des <a href="https://inveniosoftware.org" class="rero-ils-external-link">Invenio</a> Frameworks zu erschaffen. Diese Website bietet eine permanente, öffentliche Demonstration der Software in Entwicklung an. Neue Funktionen werden täglich integriert.</p>
      {% endif  %}
      {% if current_i18n.language == 'it' %}
      <h3>Il progetto</h3>
      <p>Il progetto RERO ILS mira a creare il futuro Sistema di Biblioteca Integrato RERO, utilizzando componenti del framework <a href="https://inveniosoftware.org" class="rero-ils-external-link">Invenio</a>. Questo sito fornisce una dimostrazione permanente e pubblica delsoftware in fase di sviluppo, con integrazione quotidiana di nuove funzionalità.</p>
      {% endif  %}
      <a href="http://www.rero21.ch" class="rero-ils-external-link">rero21.ch</a>
      <section class="mt-4">
          <section class="d-flex flex-row mb-2">
           <a href="https://tree.taiga.io/project/rero21-reroils/backlog" class="align-self-center" title="{{ _('Link to the RERO ILS backlog on Taiga') }}">
             <img class="card-img-top rero-ils-list-logo" src="{{ url_for('static', filename='images/logo-taiga-color.png') }}" alt="Taiga logo, star made of different greens">
           </a>
           <p class="card-text pl-2 align-self-center">
             {{_('Scrum process')}}
             <a href="https://tree.taiga.io/project/rero21-reroils/backlog" class="rero-ils-external-link" title="{{ _('Link to the RERO ILS backlog on Taiga') }}">{{_('on Taiga')}}</a>
           </p>
          </section>
          <section class="d-flex flex-row">
            <a href="https://github.com/rero/rero-ils" class="align-self-center" title="{{ _('Link to the RERO ILS code source on GitHub') }}">
              <i class="fa fa-2x fa-github card-img-top text-dark"></i>
            </a>
            <p class="card-text pl-2 align-self-center">
              {{_('Software source code')}}
              <a href="https://github.com/rero/rero-ils" class="rero-ils-external-link" title="{{ _('Link to the RERO ILS code source on GitHub') }}">{{_('on GitHub')}}</a>
              {% if config.RERO_ILS_APP_GIT_HASH %}
              <br> rero-ils {{ _('version') }}
              <a href="https://github.com/rero/rero-ils/commit/{{ config.RERO_ILS_APP_GIT_HASH }}" class="rero-ils-external-link" title="{{ _('Link to the RERO ILS code source on GitHub, current used version') }}">{{ config.RERO_ILS_APP_GIT_HASH[:8] }}</a>
              {% else %}
              <br> {{ _('version') }}
              <a href="https://github.com/rero/rero-ils/releases/tag/v{{ version }}" class="rero-ils-external-link" title="{{ _('Link to the RERO ILS code source on GitHub, current used version') }}">{{ version }}</a>
              {% endif %}
              {% if config.RERO_ILS_UI_GIT_HASH %}
                <br>rero-ils-ui {{ _('version') }}
                <a href="https://github.com/rero/rero-ils-ui/commit/{{ config.RERO_ILS_UI_GIT_HASH }}" class="rero-ils-external-link" title="{{ _('Link to the RERO ILS UI code source on GitHub, current used version') }}">{{ config.RERO_ILS_UI_GIT_HASH[:8] }}</a>
              {% endif %}

            </p>
          </section>
          <section class="d-flex flex-row">
            <a href="http://twitter.com/rero_centrale" class="align-self-center" title="{{ _('Link to the RERO Twitter account') }}">
              <i class="fa fa-2x fa-twitter card-img-top text-dark"></i>
            </a>
            <p class="card-text pl-2 align-self-center">
              <a href="http://twitter.com/rero_centrale" class="rero-ils-external-link" title="{{ _('Link to the RERO Twitter account') }}">@rero_centrale</a>
            </p>
          </section>
        </section>
    </section>
    <section class="col-md-4 order-1 order-md-2 p-4 m-2 m-md-0 bg-dark text-white rero-rounded" >
        {% if 'pilot' in request.host %}
          <!-- PILOT VERSION -->
          {%- include "rero_ils/_info_pilot.html" %}
        {% else %}
          <!-- TEST VERSION -->
          {%- include "rero_ils/_info_test.html" %}
        {% endif %}

        <!-- HELP -->
        <h4>{{ _('Help') }}</h4>
        <p>
          {{ _('More test logins and documentation is available on the') }}
          <a href="{{ url_for('wiki.page', url='home') }}">{{ _('help page') }}</a>
        </p>
    </section>
    <section class="col-md-4 order-2 order-md-3 p-4">
      <section>
        {% if viewcode == config.RERO_ILS_SEARCH_GLOBAL_VIEW_CODE %}
          <h3>{{ _('Organisations\' catalogues') }}</h3>
          <ul class="list-unstyled">
            {% for org in organisations %}
              {% if  not org.is_test_organisation() %}
                <li><a href="{{ url_for('rero_ils.index_with_view_code', viewcode=org.code) }}">{{ org.name }}</a></li>
              {% endif %}
            {% endfor %}
          </ul>
        {% else %}
          <h3>{{ _('Union catalogue') }}</h3>
          <a href="{{ url_for('rero_ils.index') }}">{{ _('RERO ILS global') }}</a>
        {% endif %}
      </section>
    </section>
  </article>
</div>
{%- endblock body %}
</div>
{%- endblock page_body %}
