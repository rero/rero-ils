{% macro build_row(name, value) %}
  {% if value %}
    <div class="row">
      <div class="col-xs-2">
        {{ name }}
      </div>
      <div class="col-xs-9">
        {% if value is string %}
          {{ value }}
        {% else %}
          <ul class="list-unstyled">
            {% for element in value %}
            <li>{{ element }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
    </div>
  {% endif %}
{% endmacro %}

{% macro build_row_merged(name, value) %}
  {% if value %}
    <div class="row">
      <div class="col-xs-2">
        {{ name }}
      </div>
      <div class="col-xs-9">
        <ul class="list-unstyled">
          {% for element in value %}
          <li>
            {{ element }}
            {% for source in value[element] %}
            <span class="label label-default text-uppercase">{{ source }}</span>
            {% endfor %}
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% endif %}
{% endmacro %}

{% macro build_row_permalink(name, data) %}
  {% if data.pid %}
    <div class="row">
      <div class="col-xs-2">
        {{ name }}
      </div>
      <div class="col-xs-9">
        <a target="_blank" href="{{ data.identifier_for_person }}">{{ data.pid }}</a>
      </div>
    </div>
  {% endif %}
{% endmacro %}

{% macro build_row_permalink_merged(name, record) %}
  <div class="row">
    <div class="col-xs-2">
      {{ _(name) }}
    </div>
    <div class="col-xs-9">
      <ul class="list-unstyled">
        {% for source in config.RERO_ILS_PERSONS_SOURCES %}
          {% if record[source] %}
          <li>
            <a target="_blank" href="{{ record[source].identifier_for_person }}">{{ record[source].pid }}</a>
              <span class="label label-default text-uppercase">{{ source }}</span>
          </li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
  </div>
{% endmacro %}
