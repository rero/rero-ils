<!--

  RERO ILS
  Copyright (C) 2019 RERO

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, version 3 of the License.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<div [class]="options?.htmlClass || ''">
  <label *ngIf="options?.title"
  [attr.for]="'control' + layoutNode?._id"
  [class]="options?.labelHtmlClass || ''"
  [style.display]="options?.notitle ? 'none' : ''"
  [innerHTML]="options?.title"></label>
  <input *ngIf="boundControl"
  [formControl]="formControl"
  [attr.aria-describedby]="'control' + layoutNode?._id + 'Status'"
  [attr.list]="'control' + layoutNode?._id + 'Autocomplete'"
  [attr.maxlength]="options?.maxLength"
  [attr.minlength]="options?.minLength"
  [attr.pattern]="options?.pattern"
  [attr.placeholder]="options?.placeholder"
  [attr.required]="options?.required"
  [class]="options?.fieldHtmlClass || ''"
  [id]="'control' + layoutNode?._id"
  [name]="controlName"
  [readonly]="options?.readonly ? 'readonly' : null"
  [type]="layoutNode?.type">
  <input *ngIf="!boundControl"
  [attr.aria-describedby]="'control' + layoutNode?._id + 'Status'"
  [attr.list]="'control' + layoutNode?._id + 'Autocomplete'"
  [attr.maxlength]="options?.maxLength"
  [attr.minlength]="options?.minLength"
  [attr.pattern]="options?.pattern"
  [attr.placeholder]="options?.placeholder"
  [attr.required]="options?.required"
  [class]="options?.fieldHtmlClass || ''"
  [disabled]="controlDisabled"
  [id]="'control' + layoutNode?._id"
  [name]="controlName"
  [readonly]="options?.readonly ? 'readonly' : null"
  [type]="layoutNode?.type"
  [value]="controlValue"
  (input)="updateValue($event)">
  <datalist *ngIf="options?.typeahead?.source"
  [id]="'control' + layoutNode?._id + 'Autocomplete'">
  <option *ngFor="let word of options?.typeahead?.source" [value]="word">
  </datalist>
</div>
